# About this project

This project can let you run go test on only modified packages and packages that depend on modified ones in a git repository. This could save you a lot of time instead of just running
```bash
go test ./...
```
. The recommended way to use this project is to run the program with githook `pre-push`.

# Prerequisites

1. [Install Go](https://go.dev/doc/install)
2. [Install Git](https://git-scm.com/downloads)

# Install


1. Setup ENV used by `main.go` and `pre-push`
 
```bash
export GO_MOD_PATH=<absolute_path_of_go.mod>
export BASE_BRANCH_NAME=<git_base_branch_name>
```
 
2. Download the `main.go`

```bash
$ curl https://github.com/asymptoter/gfg/blob/master/main.go
> ${GIT_REPOSITORY_ROOT}/.git/hooks/main.go

$ cd ${GIT_REPOSITORY_ROOT}/.git/hooks

$ go mod init && go mod tidy && go build && rm go.mod && rm main.go
```

Add `./gfg` to `pre-push`

3. (Optional, but highly recommended) Add file generated by program to `.gitignore`

```bash
$GO_MOD_PATH/.go_module_dependency_map
```

# Usage

```bash
$ git push
```

# Contributing

Feel free to open issues, or [email](asymptotion@gmail.com) to me to ask anything about this project.

# TODO

1. Come up with a better project name.
2. Add more test cases.
3. Ignores packages without `_test.go` files.
4. Beautify console output.
5. Anything makes performance better.
6. Improve installing process
